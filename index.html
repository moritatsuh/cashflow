<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>キャッシュフロー記録アプリ</title>

<style>
    body {
        font-family: sans-serif;
        background: #111;
        color: #fff;
        margin: 0;
        padding: 0;
    }
    header {
        background: #000;
        padding: 15px;
        font-size: 20px;
        text-align: center;
        border-bottom: 1px solid #444;
    }
    .container {
        padding: 15px;
    }

    select, input {
        width: 100%;
        padding: 10px;
        margin: 6px 0;
        border-radius: 6px;
        border: none;
        font-size: 16px;
    }

    .section-title {
        margin-top: 25px;
        font-size: 18px;
        border-bottom: 1px solid #555;
        padding-bottom: 5px;
    }

    .row {
        display: flex;
        justify-content: space-between;
        margin: 6px 0;
    }
    .row input {
        width: 40%;
        text-align: right;
    }

    .job-img-preview {
        width: 100%;
        margin-top: 10px;
        border-radius: 10px;
        border: 1px solid #444;
    }

    button {
        width: 100%;
        padding: 12px;
        margin-top: 20px;
        border-radius: 6px;
        border: none;
        font-size: 16px;
        background: #d4af37;
        color: #000;
    }
</style>
</head>

<body>
<header>キャッシュフロー記録アプリ（$版）</header>

<div class="container">

    <h3>職業を選択</h3>
    <select id="jobSelector"></select>

    <!-- 職業カード画像アップロード -->
    <input type="file" id="jobImage" accept="image/*" />
    <img id="jobPreview" class="job-img-preview">

    <!-- 給与 -->
    <div class="section-title">給与 / 現金 / 育児費（$）</div>
    <div class="row"><div>給与（$）</div><input id="salary" type="number"></div>
    <div class="row"><div>現金（$）</div><input id="cash" type="number"></div>
    <div class="row"><div>育児費（子1人あたり・$）</div><input id="childCost" type="number"></div>

    <!-- 支出欄 -->
    <div class="section-title">支出（$/月）</div>
    <div class="row"><div>税金（$）</div><input id="exp_tax" type="number"></div>
    <div class="row"><div>住宅ローン（$）</div><input id="exp_house" type="number"></div>
    <div class="row"><div>教育ローン（$）</div><input id="exp_edu" type="number"></div>
    <div class="row"><div>車ローン（$）</div><input id="exp_car" type="number"></div>
    <div class="row"><div>クレジット（$）</div><input id="exp_credit" type="number"></div>
    <div class="row"><div>小売店つけ（$）</div><input id="exp_store" type="number"></div>
    <div class="row"><div>銀行返済（$）</div><input id="exp_bank" type="number"></div>
    <div class="row"><div>その他（$）</div><input id="exp_other" type="number"></div>

    <!-- 負債 -->
    <div class="section-title">負債残高（$）</div>
    <div class="row"><div>住宅（$）</div><input id="debt_house" type="number"></div>
    <div class="row"><div>教育（$）</div><input id="debt_edu" type="number"></div>
    <div class="row"><div>車（$）</div><input id="debt_car" type="number"></div>
    <div class="row"><div>クレジット（$）</div><input id="debt_credit" type="number"></div>
    <div class="row"><div>小売店（$）</div><input id="debt_store" type="number"></div>
    <div class="row"><div>銀行（$）</div><input id="debt_bank" type="number"></div>

</div>

<script>
// ----------------------------------------------------
// 職業データ（モタさん最新修正版 / 単位は$）
// ----------------------------------------------------
const jobs = {
"警察官": {
 salary:3000, cash:520, childCost:160,
 exp:{tax:580,house:400,edu:0,car:100,credit:60,store:50,bank:0,other:690},
 debt:{house:46000,edu:0,car:5000,credit:2000,store:1000,bank:0}
},
"教師": {
 salary:3300, cash:400, childCost:180,
 exp:{tax:630,house:500,edu:60,car:100,credit:90,store:50,bank:0,other:760},
 debt:{house:50000,edu:12000,car:5000,credit:3000,store:1000,bank:0}
},
"看護婦": {
 salary:3100, cash:480, childCost:170,
 exp:{tax:600,house:400,edu:30,car:100,credit:90,store:50,bank:0,other:710},
 debt:{house:47000,edu:6000,car:5000,credit:3000,store:1000,bank:0}
},
"エンジニア": {
 salary:4900, cash:400, childCost:250,
 exp:{tax:1050,house:700,edu:60,car:140,credit:120,store:50,bank:0,other:1090},
 debt:{house:75000,edu:12000,car:7000,credit:4000,store:1000,bank:0}
},
"パイロット": {
 salary:9500, cash:400, childCost:480,
 exp:{tax:2350,house:1330,edu:0,car:300,credit:660,store:50,bank:0,other:2210},
 debt:{house:143000,edu:0,car:15000,credit:22000,store:1000,bank:0}
},
"弁護士": {
 salary:7500, cash:400, childCost:380,
 exp:{tax:1830,house:1100,edu:390,car:220,credit:180,store:50,bank:0,other:1650},
 debt:{house:115000,edu:78000,car:11000,credit:6000,store:1000,bank:0}
},
"秘書": {
 salary:2500, cash:710, childCost:140,
 exp:{tax:460,house:400,edu:0,car:80,credit:60,store:50,bank:0,other:570},
 debt:{house:38000,edu:0,car:4000,credit:2000,store:1000,bank:0}
},
"医師": {
 salary:13200, cash:400, childCost:640,
 exp:{tax:3420,house:1900,edu:750,car:380,credit:270,store:50,bank:0,other:2880},
 debt:{house:202000,edu:150000,car:19000,credit:9000,store:1000,bank:0}
},
"ビジネスマネジャー": {
 salary:4600, cash:400, childCost:240,
 exp:{tax:910,house:700,edu:60,car:120,credit:90,store:50,bank:0,other:1000},
 debt:{house:75000,edu:12000,car:6000,credit:3000,store:1000,bank:0}
},
"機械工": {
 salary:2000, cash:670, childCost:110,
 exp:{tax:360,house:300,edu:0,car:60,credit:60,store:50,bank:0,other:450},
 debt:{house:31000,edu:0,car:3000,credit:2000,store:1000,bank:0}
},
"トラック運転手": {
 salary:2500, cash:750, childCost:140,
 exp:{tax:460,house:400,edu:0,car:80,credit:60,store:50,bank:0,other:570},
 debt:{house:38000,edu:0,car:4000,credit:2000,store:1000,bank:0}
},
"ビル管理人": {
 salary:1600, cash:560, childCost:70,
 exp:{tax:280,house:200,edu:0,car:60,credit:60,store:50,bank:0,other:300},
 debt:{house:20000,edu:0,car:4000,credit:2000,store:1000,bank:0}
}
};

// プルダウンに職業をセット
window.onload = () => {
    const selector = document.getElementById("jobSelector");
    for (let j in jobs) {
        let opt = document.createElement("option");
        opt.value = j;
        opt.textContent = j;
        selector.appendChild(opt);
    }
};

// 職業選択で反映
document.getElementById("jobSelector").addEventListener("change", (e)=>{
    const job = jobs[e.target.value];
    if (!job) return;

    document.getElementById("salary").value = job.salary;
    document.getElementById("cash").value = job.cash;
    document.getElementById("childCost").value = job.childCost;

    // 支出
    document.getElementById("exp_tax").value = job.exp.tax;
    document.getElementById("exp_house").value = job.exp.house;
    document.getElementById("exp_edu").value = job.exp.edu;
    document.getElementById("exp_car").value = job.exp.car;
    document.getElementById("exp_credit").value = job.exp.credit;
    document.getElementById("exp_store").value = job.exp.store;
    document.getElementById("exp_bank").value = job.exp.bank;
    document.getElementById("exp_other").value = job.exp.other;

    // 負債
    document.getElementById("debt_house").value = job.debt.house;
    document.getElementById("debt_edu").value = job.debt.edu;
    document.getElementById("debt_car").value = job.debt.car;
    document.getElementById("debt_credit").value = job.debt.credit;
    document.getElementById("debt_store").value = job.debt.store;
    document.getElementById("debt_bank").value = job.debt.bank;

    // 画像初期化
    document.getElementById("jobPreview").src = "";
});

// アップロード画像プレビュー
document.getElementById("jobImage").addEventListener("change",(e)=>{
    const file = e.target.files[0];
    if(!file) return;

    const reader = new FileReader();
    reader.onload = ()=>{
        document.getElementById("jobPreview").src = reader.result;
    };
    reader.readAsDataURL(file);
});
</script>

</body>
</html>
